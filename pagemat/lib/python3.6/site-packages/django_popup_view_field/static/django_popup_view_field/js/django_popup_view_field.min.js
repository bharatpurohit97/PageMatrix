if("undefined"==typeof jQuery)throw new Error("django-popup-view-field - requires jQuery");$(document).ready(function(){var a=0,b=function(a){var b=a.data("url");return b},c=function(a,b){var c=a.find(".modal-body");c.find("*").on("click",function(c){var e=null,g=$(this),h=g.data("popup-view-value");if(void 0!==h&&("html()"===h&&(h=g.html(),h&&(h=h.trim())),e=b.data("target"),target=$("#"+e),c.stopPropagation(),a.modal("hide"),target.val(h)),g.is("a[href]")===!0){var i=g.prop("href");return c.stopPropagation(),d(a,b,i,"GET",null),!1}}),c.find("form").on("submit",function(c){var e=$(this),f=e.attr("method")||"POST",g=e.attr("action")||".",h=e.serialize();return c.stopPropagation(),d(a,b,g,f,h),!1})},d=function(a,b,d,e,f){var g={url:d,method:e,cache:!1};null!=f&&(g.data=f);var h=$.ajax(g);h.done(function(d){a.find(".modal-body").html(d),c(a,b)}),h.fail(function(b){throw a.modal("hide"),new Error("django-popup-view-field - Ajax request to url: "+d)})},e=function(b){var c=$("#template-django-popup-view-field").html(),d=$(c),e=d.attr("id")+a,f=b.data("popup-dialog-title"),g=gettext("Data is loading ..."),h=gettext("Close");return d.attr("id",e),d.find(".modal-title").html(f),d.find(".modal-body").html(g),d.find(".modal-footer-close").html(h),a++,d};$(".popup-view-btn-load").on("click",function(){var a=$(this),c=e(a),f=b(a);c.modal({backdrop:!1}),c.on("hidden.bs.modal",function(a){$(this).remove()}),d(c,a,f,"GET",null)}),$(".popup-view-btn-clear").on("click",function(){var a=$(this),b=a.data("target"),c=$("#"+b);c.val("")})});
